{{/*
  Custom rendering for markdown content blockquotes.
  - Add citation and caption attributes.
  - Add alert callouts.
*/}}

{{ $emojis := dict
  "caution" "â˜¢ "
  "important" "ðŸ›ˆ "
  "note" "â™« "
  "tip" "â˜… "
  "warning" "âš  "
}}

{{- if eq .Type "alert" -}}
  <blockquote class="alert-{{ .AlertType }}">
    <p class="alert-heading">
      {{ transform.Emojify (index $emojis .AlertType) }}
      {{- with .AlertTitle -}}
        {{ . }}
      {{- else -}}
        {{ or (i18n .AlertType) (title .AlertType) }}
      {{- end -}}
    </p>
    {{ .Text }}
  </blockquote>
{{- else -}}
  <figure>
    <blockquote {{- with .Attributes.cite -}}cite="{{ . }}"{{- end -}}>
      {{ .Text }}
    </blockquote>
    {{- with .Attributes.caption -}}
      <figcaption class="blockquote-caption">
        {{ . | safeHTML }}
      </figcaption>
    {{- end -}}
  </figure>
{{ end }}